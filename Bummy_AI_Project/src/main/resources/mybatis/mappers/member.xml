<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
    
<mapper namespace="mapper.member">
	<update id="checkTimeSet">
		<![CDATA[
			update USER_INFO set check_time=#{check_time}
			where user_belong=#{user_belong}
		]]>
	</update>

	<update id="pAccept">
		<![CDATA[
			update USER_INFO set user_type='P'
			where user_id=#{user_id}
		]]>
	</update>

	<select id="pList" resultType="memberVO">
		<![CDATA[
			select * from USER_INFO where user_type='N' and user_belong=#{user_belong}
		]]>
	</select>
	
	<insert id="signup" parameterType="memberVO" >
		<![CDATA[
			insert into USER_INFO
			values (#{user_id},#{user_pw},#{user_phone},#{user_name},#{user_email},#{user_belong},#{user_type},#{user_img})
		]]>
	</insert>
	
	<update id="login_attend">
		<![CDATA[
			update USER_INFO set user_attend=0
			where user_id=#{user_id}
		]]>
	</update>
	
	<select id="login_usertype" resultType="String" parameterType="memberVO">
		<![CDATA[
			select user_type from USER_INFO
			where user_id=#{user_id} and user_pw=#{user_pw}
		]]>
	</select>
	
		<select id="login_username" resultType="String" parameterType="memberVO">
		<![CDATA[
			select user_name from USER_INFO
			where user_id=#{user_id} and user_pw=#{user_pw}
		]]>
	</select>
	
	<select id="login_userbelong" resultType="String" parameterType="memberVO">
		<![CDATA[
			select user_belong from USER_INFO
			where user_id=#{user_id} and user_pw=#{user_pw}
		]]>
	</select>
</mapper> 